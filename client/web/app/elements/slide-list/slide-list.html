<dom-module id="slide-list">
    <style>
        .presentation-list {
            overflow-x: scroll;
            overflow-y: hidden;
            display:inline-flex;
            max-width: 100%;
        }

        .iron-selected {
            background: #eee;
        }
        .list-elem {
            padding: 15px;
        }
        .list-elem:hover {
            cursor: pointer;
        }
    </style>

    <template>
        <iron-selector id="slideSelector" selected="0" on-iron-select="_onItemSelected" class="presentation-list">
            <template is="dom-repeat" items="{{slides}}">
                <div class="list-elem">
                    <img src="{{item.imageUrl}}" width="150" , height="auto">
                    <figcaption>{{item.caption}}</figcaption>
                </div>
            </template>
        </iron-selector>
    </template>

    <script>
        Polymer({
            is: "slide-list",
            properties: {
                slides: {
                    type: Object,
                    notify: true
                }
            },
            ready: function() {
                this.slides = [];
                for (var i = 0; i < 11; i++) {
                    var slide = {
                        imageUrl: "src/spring/output-" + i + ".png",
                        caption: "Czym jest Polymer"
                    };
                    this.push('slides', slide);
                }
            },
            _onItemSelected: function(e) {

                var selectedIndex = this.$.slideSelector.selected;
                var self = this;

                this.fire("slide-selected", {
                    id: selectedIndex,
                    imageUrl: self.slides[selectedIndex].imageUrl,
                    caption: self.slides[selectedIndex].caption
                });
            }
        });
    </script>
</dom-module>
